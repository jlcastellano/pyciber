<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Flujo y Funciones</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <div>Control de Flujo y Funciones</div>
    </header>

    <section class="contenido-didactico">
        <h1>BLOQUE 2: Bucles</h1>

        <h2>2.1 Bucle for</h2>

        <p>El bucle <code>for</code> itera sobre secuencias (listas, strings, rangos, diccionarios, etc.). Es el bucle
            más usado en Python.</p>

        <h3>Iteración sobre Secuencias</h3>

        <pre><code class="language-python">#!/usr/bin/env python3
"""
Bucle for - Iteración sobre secuencias
"""

# Iterar sobre lista
puertos = [22, 80, 443, 8080]
print("Puertos a escanear:")
for puerto in puertos:
    print(f"  - Puerto {puerto}")

# Iterar sobre string
dominio = "hack"
print("\nCaracteres del dominio:")
for caracter in dominio:
    print(f"  '{caracter}' → ASCII: {ord(caracter)}")

# Iterar sobre diccionario
servicios = {"SSH": 22, "HTTP": 80, "HTTPS": 443}

print("\nServicios (solo claves):")
for servicio in servicios:
    print(f"  {servicio}")

print("\nServicios (clave y valor):")
for servicio, puerto in servicios.items():
    print(f"  {servicio}: puerto {puerto}")

# Iterar con índice usando enumerate()
objetivos = ["192.168.1.1", "192.168.1.2", "192.168.1.3"]
print("\nObjetivos con índice:")
for indice, ip in enumerate(objetivos):
    print(f"  [{indice}] {ip}")

# enumerate con inicio personalizado
print("\nObjetivos numerados desde 1:")
for numero, ip in enumerate(objetivos, start=1):
    print(f"  {numero}. {ip}")</code></pre>

        <h3>La Función range()</h3>

        <pre><code class="language-python">#!/usr/bin/env python3
"""
range() - Generar secuencias de números
"""

# range(fin) - desde 0 hasta fin-1
print("range(5):")
for i in range(5):
    print(f"  {i}", end=" ")  # 0 1 2 3 4
print()

# range(inicio, fin) - desde inicio hasta fin-1
print("\nrange(1, 6):")
for i in range(1, 6):
    print(f"  {i}", end=" ")  # 1 2 3 4 5
print()

# range(inicio, fin, paso)
print("\nrange(0, 10, 2) - números pares:")
for i in range(0, 10, 2):
    print(f"  {i}", end=" ")  # 0 2 4 6 8
print()

# Cuenta regresiva con paso negativo
print("\nCuenta regresiva:")
for i in range(5, 0, -1):
    print(f"  {i}...")
print("  ¡Lanzamiento!")

# Aplicación: escaneo de rango de puertos
print("\nSimulación de escaneo de puertos 20-25:")
for puerto in range(20, 26):
    estado = "abierto" if puerto in [22] else "cerrado"
    icono = "[+]" if estado == "abierto" else "[-]"
    print(f"  {icono} Puerto {puerto}: {estado}")

# Generar rango de IPs
print("\nGenerando rango de IPs:")
for ultimo_octeto in range(1, 6):
    ip = f"192.168.1.{ultimo_octeto}"
    print(f"  {ip}")</code></pre>

        <h3>Iteración Avanzada: zip() y Comprehensions</h3>

        <pre><code class="language-python">#!/usr/bin/env python3
"""
Técnicas avanzadas de iteración
"""

# zip() - iterar sobre múltiples secuencias en paralelo
puertos = [22, 80, 443]
servicios = ["SSH", "HTTP", "HTTPS"]
estados = ["abierto", "cerrado", "abierto"]

print("Resultados de escaneo:")
for puerto, servicio, estado in zip(puertos, servicios, estados):
    print(f"  {puerto}/{servicio}: {estado}")

# List comprehension - crear listas de forma concisa
# Forma tradicional
cuadrados = []
for i in range(1, 6):
    cuadrados.append(i ** 2)
print(f"\nCuadrados (tradicional): {cuadrados}")

# Con list comprehension
cuadrados = [i ** 2 for i in range(1, 6)]
print(f"Cuadrados (comprehension): {cuadrados}")

# Comprehension con condición
puertos_todos = range(1, 1025)
puertos_pares = [p for p in puertos_todos if p % 2 == 0]
print(f"\nPrimeros 5 puertos pares: {puertos_pares[:5]}")

# Generar lista de IPs
ips = [f"192.168.1.{i}" for i in range(1, 11)]
print(f"\nRango de IPs generado: {ips}")

# Dictionary comprehension
puertos_comunes = [21, 22, 80, 443]
nombres = ["FTP", "SSH", "HTTP", "HTTPS"]
servicios_dict = {puerto: nombre for puerto, nombre in zip(puertos_comunes, nombres)}
print(f"\nDiccionario de servicios: {servicios_dict}")</code></pre>

        <h2>2.2 Bucle while</h2>

        <p>El bucle <code>while</code> ejecuta código mientras una condición sea verdadera. Es útil cuando no sabemos de
            antemano cuántas iteraciones necesitamos.</p>

        <h3>Sintaxis Básica</h3>

        <pre><code class="language-python">#!/usr/bin/env python3
"""
Bucle while - Ejecución basada en condición
"""

# Contador simple
intentos = 0
max_intentos = 3

print("Simulación de intentos de conexión:")
while intentos < max_intentos:
    intentos += 1
    print(f"  Intento {intentos} de {max_intentos}")
print("Intentos agotados\n")

# Bucle con condición de salida basada en entrada
print("Menú interactivo (escribe 'salir' para terminar):")
while True:
    comando = input("  > ").strip().lower()
    if comando == "salir":
        print("  ¡Hasta luego!")
        break
    elif comando == "ayuda":
        print("  Comandos: ayuda, info, salir")
    elif comando == "info":
        print("  Sistema de pruebas v1.0")
    elif comando == "":
        continue  # Salta a la siguiente iteración
    else:
        print(f"  Comando no reconocido: {comando}")</code></pre>

        <h3>Simulación de Conexión con Reintentos</h3>

        <pre><code class="language-python">#!/usr/bin/env python3
"""
Simulación de conexión con reintentos
"""

import random  # Lo veremos en detalle más adelante

objetivo = "192.168.1.100"
puerto = 22
max_reintentos = 5
reintento_actual = 0
conectado = False

print(f"Intentando conectar a {objetivo}:{puerto}")

while reintento_actual < max_reintentos and not conectado:
    reintento_actual += 1
    print(f"\n  [*] Intento {reintento_actual}/{max_reintentos}...")
    
    # Simular éxito/fallo aleatorio (30% de éxito)
    exito = random.random() < 0.3
    
    if exito:
        conectado = True
        print(f"  [+] ¡Conexión establecida!")
    else:
        print(f"  [-] Conexión fallida")
        if reintento_actual < max_reintentos:
            print(f"  [*] Esperando antes de reintentar...")

if conectado:
    print(f"\n[+] Sesión activa con {objetivo}")
else:
    print(f"\n[!] No se pudo conectar después de {max_reintentos} intentos")</code></pre>

        <h2>2.3 Control de Bucles: break, continue, else</h2>

        <pre><code class="language-python">#!/usr/bin/env python3
"""
Control de flujo en bucles
"""

# break - termina el bucle inmediatamente
print("=== break ===")
print("Buscando primer puerto abierto:")
puertos = [21, 22, 23, 25, 80]
estados = ["cerrado", "cerrado", "abierto", "cerrado", "abierto"]

for puerto, estado in zip(puertos, estados):
    print(f"  Verificando puerto {puerto}...")
    if estado == "abierto":
        print(f"  [+] ¡Encontrado! Puerto {puerto} está abierto")
        break

# continue - salta a la siguiente iteración
print("\n=== continue ===")
print("Procesando solo puertos abiertos:")
for puerto, estado in zip(puertos, estados):
    if estado == "cerrado":
        continue  # Salta los cerrados
    print(f"  [+] Procesando puerto {puerto}")

# else en bucles - se ejecuta si el bucle termina normalmente (sin break)
print("\n=== else en for ===")
puertos_objetivo = [100, 101, 102]

print("Buscando puerto 22 en lista:")
for puerto in puertos_objetivo:
    if puerto == 22:
        print(f"  [+] Puerto 22 encontrado")
        break
else:
    # Este bloque se ejecuta si no hubo break
    print("  [-] Puerto 22 no está en la lista")

# Ejemplo práctico: verificar si un número es primo
print("\n=== Verificador de primos ===")
numero = 17

if numero < 2:
    print(f"{numero} no es primo")
else:
    for i in range(2, int(numero ** 0.5) + 1):
        if numero % i == 0:
            print(f"{numero} no es primo (divisible por {i})")
            break
    else:
        print(f"{numero} es primo")</code></pre>


    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="script.js"></script>
</body>

</html>